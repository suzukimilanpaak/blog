---
layout: post
title: "このRSpecのスライドがすばらしい"
date: '2012-06-10T09:10:00.003+01:00'
author: Suzuki MilanPaak
tags: 
modified_time: '2012-06-10T09:15:16.506+01:00'
blogger_id: tag:blogger.com,1999:blog-6758697817819098194.post-6108674030991690772
blogger_orig_url: http://engineerflies.blogspot.com/2012/06/rspec.html
---

<a href='http://www.kerrybuckley.org/about-me/'>Kerry Buckley</a>さんの<a href='http://kerryb.github.com/iprug-rspec-presentation/#1'>RSpecのスライド</a>が素晴らしい。さらっと読み通しておもしろいなと思ったところをノートしてみました。<br /><br />なお、console でRSpecを使いたいときはSpec::Matchersをincludeすればよいです。<br /><pre name='code' class='ruby'>require 'rspec'<br />include Spec::Matchers<br /></pre><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#1'>表紙</a><br />このスライドは<a href='https://github.com/Seldaek/slippy'>Splippy</a>というやつでできている。Escを押すとページのリストが出てかっこいい。<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#7'>Context</a><br />contextはdescribeのエイリアス<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#12'>Formatters</a><br />フォーマッタ: docは試験内容がdocument化されて読みやすい。<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#14'>Formatters</a><br />フォーマッタ: fuubarでプログレスバーをパーセンテイジ表示できる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#15'>Formatters</a><br />フォーマッタは複数指定できる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#16'>Profiling</a><br />プロファイルで時間のかかってる試験を発見<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#17'>Pending specs</a><br />itを実装しないとペンディングになる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#20'>Running one spec</a><br />行を指定して一つのスペックを実施<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#27'>Built-in matchers</a><br />equalのmatcherはいろいろある。けど区別できるようにしとく必要ありそう<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#34'>Another digression</a><br />カスタムメッセージを指定してして後日スペックが通らなかったときに何がダメかわかりやすいメッセージを指定できる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#35'>Back to built-in matchers</a><br />Matcherは基本的に既に用意されているbuilt-in matchersを使う。<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#41'>Custom matchers</a><br />　Custom Matcherはこんな感じで簡単に書けるようになってる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#43'>Implicit subject</a><br />当然だけどsubject {} だけじゃなくdescribe :subject {}もそのscopeでsubject（主語）になる<br /><br />だから以下の二つは等価<br /><pre name='code' class='ruby'>describe Array do<br />  it 'should respond to :each_with_index' do<br />    should respond_to :each_with_index<br />  end<br />end<br /><br />describe 'An array' do<br />  subject { Array }<br />  it 'should respond to :each_with_index' do<br />    should respond_to :each_with_index<br />  end<br />end<br /></pre><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#44'>Implicit subject</a><br />its "uniq.size"と書くとevalしてくれる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#45'>Explicit subject</a><br />subject {} で定義した変数へはsubjectでアクセスできる。<br /><br />itsが廃止予定なので便利かも　its "uniq.size" => subject.uniq.size<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#48'>Shoulda matchers</a><br /><a href='https://github.com/thoughtbot/shoulda'>Shoulda</a> MatchersがほとんどのRails Matchersを提供してくれてる<br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#68'>Rails controllers</a><br />Anonymous controllerが使える。例えばあるアクションで異常系の処理のSpecを書きたいときなどに便利<br /><br /><br />- <a href='http://kerryb.github.com/iprug-rspec-presentation/#73'>Learning more</a><br />残りは本家で<br /><a href='https://www.relishapp.com/rspec/'>RSpec</a><br /><a href='https://www.relishapp.com/rspec/rspec-rails'>RSpec Rails</a><br /><br /><br />.